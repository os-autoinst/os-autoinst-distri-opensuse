<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>lib/x11utils.pm</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel='stylesheet' href='./style.css' />
</head>

<body>



<ul id="index"><li><a href="./index.html"><i>&lt;= Back to file list</i></a></li>
  <li><a href="#X11_UTILS">X11_UTILS</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a>
    <ul>
      <li><a href="#desktop_runner_hotkey">desktop_runner_hotkey</a></li>
      <li><a href="#"></a></li>
      <li><a href="#ensure_fullscreen">ensure_fullscreen</a></li>
      <li><a href="#handle_login">handle_login</a></li>
      <li><a href="#handle_logout">handle_logout</a></li>
      <li><a href="#handle_relogin">handle_relogin</a></li>
      <li><a href="#select_user_gnome">select_user_gnome</a></li>
      <li><a href="#turn_off_plasma_screen_energysaver">turn_off_plasma_screen_energysaver</a></li>
      <li><a href="#turn_off_plasma_screenlocker">turn_off_plasma_screenlocker</a></li>
      <li><a href="#turn_off_plasma_tooltips">turn_off_plasma_tooltips</a></li>
      <li><a href="#turn_off_kde_screensaver">turn_off_kde_screensaver</a></li>
      <li><a href="#turn_off_gnome_screensaver">turn_off_gnome_screensaver</a></li>
      <li><a href="#turn_off_gnome_screensaver_for_gdm">turn_off_gnome_screensaver_for_gdm</a></li>
      <li><a href="#turn_off_gnome_screensaver_for_running_gdm">turn_off_gnome_screensaver_for_running_gdm</a></li>
      <li><a href="#turn_off_gnome_suspend">turn_off_gnome_suspend</a></li>
      <li><a href="#turn_off_screensaver">turn_off_screensaver</a></li>
      <li><a href="#untick_welcome_on_next_startup">untick_welcome_on_next_startup</a></li>
      <li><a href="#handle_welcome_screen">handle_welcome_screen</a></li>
      <li><a href="#start_root_shell_in_xterm">start_root_shell_in_xterm</a></li>
      <li><a href="#x11_start_program_xterm">x11_start_program_xterm</a></li>
      <li><a href="#default_gui_terminal">default_gui_terminal {</a></li>
      <li><a href="#handle_gnome_activities">handle_gnome_activities</a></li>
    </ul>
  </li>
</ul><h1>lib/x11utils.pm</h1>

<h1 id="X11_UTILS">X11_UTILS</h1>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>use lib::x11utils;</code></pre>

<h2 id="desktop_runner_hotkey">desktop_runner_hotkey</h2>

<pre><code>desktop_runner_hotkey();</code></pre>

<p>Returns the hotkey for the desktop runner according to the used desktop</p>

<h2 id=""></h2>

<pre><code>ensure_unlocked_desktop();</code></pre>

<p>if stay under tty console for long time, then check screen lock is necessary when switch back to x11 all possible options should be handled within loop to get unlocked desktop</p>

<h2 id="ensure_fullscreen">ensure_fullscreen</h2>

<pre><code>ensure_fullscreen($tag);</code></pre>

<p><code>tag</code> can contain a needle name and is optional, it defaults to yast2-windowborder</p>

<h2 id="handle_login">handle_login</h2>

<pre><code>handle_login($myuser, $user_selected);</code></pre>

<p>Log the user in using the displaymanager. When <code>$myuser</code> is set, this user will be used for login. Otherwise the function will default to <code>$username</code>. For displaymanagers (like gnome) where the user needs to be selected from a menu <code>$user_selected</code> tells the function that the desired user has already been selected before this function was called.</p>

<p>Example:</p>

<pre><code>handle_login(&#39;user1&#39;, 1);</code></pre>

<h2 id="handle_logout">handle_logout</h2>

<pre><code>handle_logout();</code></pre>

<p>Handles the logout from the desktop</p>

<h2 id="handle_relogin">handle_relogin</h2>

<pre><code>handle_relogin();</code></pre>

<p>First logs out and the log in via <code>handle_logout()</code> and <code>handle_login()</code></p>

<h2 id="select_user_gnome">select_user_gnome</h2>

<pre><code>select_user_gnome([$myuser]);</code></pre>

<p>Handle the case when user is not selected in login screen, on gnome. <code>$myuser</code> specifies the username to switch to. If not set, it will default to <code>$username</code>.</p>

<h2 id="turn_off_plasma_screen_energysaver">turn_off_plasma_screen_energysaver</h2>

<pre><code>turn_off_plasma_screen_energysaver()</code></pre>

<p>Turns off the Plasma desktop screen energy saving.</p>

<h2 id="turn_off_plasma_screenlocker">turn_off_plasma_screenlocker</h2>

<pre><code>turn_off_plasma_screenlocker()</code></pre>

<p>Turns off the Plasma desktop screenlocker.</p>

<h2 id="turn_off_plasma_tooltips">turn_off_plasma_tooltips</h2>

<pre><code>turn_off_plasma_tooltips()</code></pre>

<p>Disable Plasma tooltips, especially the one triggered by the &quot;Peek Desktop&quot; below the default mouse_hide location can break needles and break or slow down matches.</p>

<h2 id="turn_off_kde_screensaver">turn_off_kde_screensaver</h2>

<pre><code>turn_off_kde_screensaver()</code></pre>

<p>Prevents screen from being locked or turning black while using the Plasma desktop. Call before tests that are not providing input for a long time, to prevent needles from failing.</p>

<h2 id="turn_off_gnome_screensaver">turn_off_gnome_screensaver</h2>

<pre><code>turn_off_gnome_screensaver()</code></pre>

<p>Disable screensaver in gnome. To be called from a command prompt, for example an xterm window.</p>

<h2 id="turn_off_gnome_screensaver_for_gdm">turn_off_gnome_screensaver_for_gdm</h2>

<p>turn_off_gnome_screensaver_for_gdm()</p>

<p>Disable screensaver in gnome for gdm. The function should be run under root. To be called from a command prompt, for example an xterm window.</p>

<h2 id="turn_off_gnome_screensaver_for_running_gdm">turn_off_gnome_screensaver_for_running_gdm</h2>

<p>turn_off_gnome_screensaver_for_running_gdm()</p>

<p>Disable screensaver in gnome for running gdm. The function should be run under root. To be called from a command prompt, for example an xterm window.</p>

<h2 id="turn_off_gnome_suspend">turn_off_gnome_suspend</h2>

<pre><code>turn_off_gnome_suspend()</code></pre>

<p>Disable suspend in gnome. To be called from a command prompt, for example an xterm window.</p>

<h2 id="turn_off_screensaver">turn_off_screensaver</h2>

<pre><code>turn_off_screensaver();</code></pre>

<p>Turns off the screensaver depending on desktop environment</p>

<h2 id="untick_welcome_on_next_startup">untick_welcome_on_next_startup</h2>

<pre><code>untick_welcome_on_next_startup();</code></pre>

<p>untick welcome page on next startup.</p>

<h2 id="handle_welcome_screen">handle_welcome_screen</h2>

<pre><code>handle_welcome_screen([timeout =&gt; $timeout]);</code></pre>

<p>openSUSE Welcome window should be auto-launched. Disable auto-launch on next boot and close application. Also handle workarounds when needed.</p>

<h2 id="start_root_shell_in_xterm">start_root_shell_in_xterm</h2>

<pre><code> start_root_shell_in_xterm()
 </code></pre>

<p>Start a root shell in xterm.</p>

<h2 id="x11_start_program_xterm">x11_start_program_xterm</h2>

<pre><code>x11_start_program_xterm()</code></pre>

<p>Start xterm, if it is not focused, record a soft-failure and focus the xterm window.</p>

<h2 id="default_gui_terminal">default_gui_terminal {</h2>

<pre><code>default_gui_terminal()</code></pre>

<p>Returns the default console to be used by test modules, defaults to xterm</p>

<h2 id="handle_gnome_activities">handle_gnome_activities</h2>

<pre><code>handle_gnome_activities()</code></pre>

<p>handle_gnome_activities</p>


</body>

</html>


