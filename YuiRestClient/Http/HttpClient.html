<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>YuiRestClient::Http::HttpClient - Interface to the Rest API on the server</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rel='stylesheet' href='../../style.css' />
</head>

<body>



<ul id="index"><li><a href="../../index.html"><i>&lt;= Back to file list</i></a></li>
  <li><a href="#NAME">NAME</a></li>
  <li><a href="#COPYRIGHT">COPYRIGHT</a></li>
  <li><a href="#AUTHORS">AUTHORS</a></li>
  <li><a href="#SYNOPSIS">SYNOPSIS</a></li>
  <li><a href="#DESCRIPTION">DESCRIPTION</a>
    <ul>
      <li><a href="#Overview">Overview</a></li>
      <li><a href="#Class-and-object-methods">Class and object methods</a></li>
    </ul>
  </li>
</ul><h1>lib/YuiRestClient/Http/HttpClient.pm</h1>

<h1 id="NAME">NAME</h1>

<p>YuiRestClient::Http::HttpClient - Interface to the Rest API on the server</p>

<h1 id="COPYRIGHT">COPYRIGHT</h1>

<p>Copyright 2020 SUSE LLC</p>

<p>SPDX-License-Identifier: FSFAP</p>

<h1 id="AUTHORS">AUTHORS</h1>

<p>QE Yam &lt;qe-yam at suse de&gt;</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>my $response = YuiRestClient::Http::HttpClient::http_get($uri);
my $response = YuiRestClient::Http::HttpClient::http_post($uri);
my $uri = YuiRestClient::Http::HttpClient::compose_uri(
    host =&gt; $self-&gt;{host},
    port =&gt; $self-&gt;{port},
    path =&gt; $self-&gt;{api_version} . &#39;/widgets&#39;,
    params =&gt; $args
);</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<h2 id="Overview">Overview</h2>

<p>Class to handle the HTTP traffic with the libYUI instance on the SUT. Uses Mojo::UserAgent for HTTP protocol.</p>

<h2 id="Class-and-object-methods">Class and object methods</h2>

<p><b>http_get($url)</b> - perform a HTTP/GET to the specified URL</p>

<p>If the GET is successful (HTTP 200) then the data that was retrieved will be returned. If HTTP errors occur the method will log a &quot;Widget not found by url&quot; error message and then die with the error message returned by the server.</p>

<p><b>http_post($url)</b> - perform a HTTP/POST to the specified URL</p>

<p>If the POST is successful (HTTP 200) then the data that was retrieved will be returned. If HTTP errors occur the method will log a &quot;Widget not found by url&quot; error message and then die with the error message returned by the server.</p>

<p><b>compose_url(%args)</b> - compose an URL using the named parameter list</p>

<p>This method uses a hash for a named parameter list. The following parameters can be used:</p>

<ul>

<li><p><b>{port}</b> - the port number of the libYUI rest server, defaults to 80.</p>

</li>
<li><p><b>{host}</b> - The host name or IP address of the libYUI server.</p>

</li>
<li><p><b>{path}</b> - The access path. This is optional and can be omitted.</p>

</li>
<li><p><b>{params}</b> - Query parameters that can be used. This is optional and can be omitted.</p>

</li>
</ul>

<p>With those parameters compose_url() will create an URL that looks like this:</p>

<p>http://{host}:{port}/{path}?{params}</p>


</body>

</html>


