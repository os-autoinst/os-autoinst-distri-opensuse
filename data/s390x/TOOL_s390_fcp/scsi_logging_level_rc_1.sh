# Copyright (C) 2018 IBM Corp.
#
# Copying and distribution of this file, with or without modification,
# are permitted in any medium without royalty provided the copyright
# notice and this notice are preserved.  This file is offered as-is,
# without any warranty.

#!/bin/bash
# set -x

for i in `ls lib/*.sh`; do source $i || exit 8; done

tool_path=$(s390_get_tool_path scsi_logging_level)

assert_exec 0 $tool_path -c --midlevel 3
assert_exec 0 $tool_path -c --mlqueue 3
assert_exec 0 $tool_path -c --mlcomplete 3
assert_exec 0 $tool_path -c -L 3
assert_exec 0 $tool_path -c --lowlevel 3
assert_exec 0 $tool_path -c --llqueue 3
assert_exec 0 $tool_path -c --llcomplete 3
assert_exec 0 $tool_path -c -H 3
assert_exec 0 $tool_path -c --highlevel 3
assert_exec 0 $tool_path -c --hlqueue 3
assert_exec 0 $tool_path -c --hlcomplete 3
assert_exec 0 $tool_path -c -I 3
assert_exec 0 $tool_path -c --ioctl 3
assert_exec 0 $tool_path -c -a 4
assert_exec 0 $tool_path -c --all 4
assert_exec 0 $tool_path -c -E 4
assert_exec 0 $tool_path -c --error 4
assert_exec 0 $tool_path -c -T 4
assert_exec 0 $tool_path -c --timeout 4
assert_exec 0 $tool_path -c -S 4
assert_exec 0 $tool_path -c --scan 4
assert_exec 0 $tool_path -c -M 4
assert_exec 0 $tool_path -c --midlevel 4
assert_exec 0 $tool_path -c --mlqueue 4
assert_exec 0 $tool_path -c --mlcomplete 4
assert_exec 0 $tool_path -c -L 4
assert_exec 0 $tool_path -c --lowlevel 4
assert_exec 0 $tool_path -c --llqueue 4
assert_exec 0 $tool_path -c --llcomplete 4
assert_exec 0 $tool_path -c -H 4
assert_exec 0 $tool_path -c --highlevel 4
assert_exec 0 $tool_path -c --hlqueue 4
assert_exec 0 $tool_path -c --hlcomplete 4
assert_exec 0 $tool_path -c -I 4
assert_exec 0 $tool_path -c --ioctl 4
assert_exec 0 $tool_path -c -a 5
assert_exec 0 $tool_path -c --all 5
assert_exec 0 $tool_path -c -E 5
assert_exec 0 $tool_path -c --error 5
assert_exec 0 $tool_path -c -T 5
assert_exec 0 $tool_path -c --timeout 5
assert_exec 0 $tool_path -c -S 5
assert_exec 0 $tool_path -c --scan 5
assert_exec 0 $tool_path -c -M 5
assert_exec 0 $tool_path -c --midlevel 5
assert_exec 0 $tool_path -c --mlqueue 5
assert_exec 0 $tool_path -c --mlcomplete 5
assert_exec 0 $tool_path -c -L 5
assert_exec 0 $tool_path -c --lowlevel 5
assert_exec 0 $tool_path -c --llqueue 5
assert_exec 0 $tool_path -c --llcomplete 5
assert_exec 0 $tool_path -c -H 5
assert_exec 0 $tool_path -c --highlevel 5
assert_exec 0 $tool_path -c --hlqueue 5
assert_exec 0 $tool_path -c --hlcomplete 5
assert_exec 0 $tool_path -c -I 5
assert_exec 0 $tool_path -c --ioctl 5
assert_exec 0 $tool_path -c -a 6
assert_exec 0 $tool_path -c --all 6
assert_exec 0 $tool_path -c -E 6
assert_exec 0 $tool_path -c --error 6
assert_exec 0 $tool_path -c -T 6
assert_exec 0 $tool_path -c --timeout 6
assert_exec 0 $tool_path -c -S 6
assert_exec 0 $tool_path -c --scan 6
assert_exec 0 $tool_path -c -M 6
assert_exec 0 $tool_path -c --midlevel 6
assert_exec 0 $tool_path -c --mlqueue 6
assert_exec 0 $tool_path -c --mlcomplete 6
assert_exec 0 $tool_path -c -L 6
assert_exec 0 $tool_path -c --lowlevel 6
assert_exec 0 $tool_path -c --llqueue 6
assert_exec 0 $tool_path -c --llcomplete 6
assert_exec 0 $tool_path -c -H 6
assert_exec 0 $tool_path -c --highlevel 6
assert_exec 0 $tool_path -c --hlqueue 6
assert_exec 0 $tool_path -c --hlcomplete 6
assert_exec 0 $tool_path -c -I 6
assert_exec 0 $tool_path -c --ioctl 6
assert_exec 0 $tool_path -c -a 7
assert_exec 0 $tool_path -c --all 7
assert_exec 0 $tool_path -c -E 7
assert_exec 0 $tool_path -c --error 7
assert_exec 0 $tool_path -c -T 7
assert_exec 0 $tool_path -c --timeout 7
assert_exec 0 $tool_path -c -S 7
assert_exec 0 $tool_path -c --scan 7
assert_exec 0 $tool_path -c -M 7
assert_exec 0 $tool_path -c --midlevel 7
assert_exec 0 $tool_path -c --mlqueue 7
assert_exec 0 $tool_path -c --mlcomplete 7
assert_exec 0 $tool_path -c -L 7
assert_exec 0 $tool_path -c --lowlevel 7
assert_exec 0 $tool_path -c --llqueue 7
assert_exec 0 $tool_path -c --llcomplete 7
assert_exec 0 $tool_path -c -H 7
assert_exec 0 $tool_path -c --highlevel 7
assert_exec 0 $tool_path -c --hlqueue 7
assert_exec 0 $tool_path -c --hlcomplete 7
assert_exec 0 $tool_path -c -I 7
assert_exec 0 $tool_path -c --ioctl 7
assert_exec 1 $tool_path -s -a 8
assert_exec 1 $tool_path -s --all 8
assert_exec 1 $tool_path -s -E 8
assert_exec 1 $tool_path -s --error 8
assert_exec 1 $tool_path -s -T 8
assert_exec 1 $tool_path -s --timeout 8
assert_exec 1 $tool_path -s -S 8
assert_exec 1 $tool_path -s --scan 8
assert_exec 1 $tool_path -s -M 8
assert_exec 1 $tool_path -s --midlevel 8
assert_exec 1 $tool_path -s --mlqueue 8
assert_exec 1 $tool_path -s --mlcomplete 8
assert_exec 1 $tool_path -s -L 8
assert_exec 1 $tool_path -s --lowlevel 8
assert_exec 1 $tool_path -s --llqueue 8
assert_exec 1 $tool_path -s --llcomplete 8
assert_exec 1 $tool_path -s -H 8
assert_exec 1 $tool_path -s --highlevel 8
assert_exec 1 $tool_path -s --hlqueue 8
assert_exec 1 $tool_path -s --hlcomplete 8
assert_exec 1 $tool_path -s -I 8
assert_exec 1 $tool_path -s --ioctl 8
assert_exec 1 $tool_path -c -a 8
assert_exec 1 $tool_path -c --all 8
assert_exec 1 $tool_path -c -E 8
assert_exec 1 $tool_path -c --error 8
assert_exec 1 $tool_path -c -T 8
assert_exec 1 $tool_path -c --timeout 8
assert_exec 1 $tool_path -c -S 8
assert_exec 1 $tool_path -c --scan 8
assert_exec 1 $tool_path -c -M 8
assert_exec 1 $tool_path -c --midlevel 8
assert_exec 1 $tool_path -c --mlqueue 8
assert_exec 1 $tool_path -c --mlcomplete 8
assert_exec 1 $tool_path -c -L 8
assert_exec 1 $tool_path -c --lowlevel 8
assert_exec 1 $tool_path -c --llqueue 8
assert_exec 1 $tool_path -c --llcomplete 8
assert_exec 1 $tool_path -c -H 8
assert_exec 1 $tool_path -c --highlevel 8
assert_exec 1 $tool_path -c --hlqueue 8
assert_exec 1 $tool_path -c --hlcomplete 8
assert_exec 1 $tool_path -c -I 8
assert_exec 1 $tool_path -c --ioctl 8
