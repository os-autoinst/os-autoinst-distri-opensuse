# To find out whether a patch was merged:
#   commit="$(gh pr view "$PR" --json mergeCommit --jq '.mergeCommit.oid')"
#   git tag --contains "$commit" --sort=version:refname | head -1
# If the patch was not merged you may want to set min

aardvark-dns:
  # https://github.com/containers/aardvark-dns/pull/519 is needed for 100-basic-name-resolution
  # https://github.com/containers/aardvark-dns/pull/581 is needed for PR#623
  # https://github.com/containers/aardvark-dns/pull/619 is needed for dnsmasq issue
  # https://github.com/containers/aardvark-dns/pull/623 is needed to drop ncat
  519:
    merged: "1.13.0"
  581:
    merged: "1.15.0"
  619:
    merged: "1.16.0"
    min: "1.14.0"
  623:
    merged: "1.17.0"

buildah:
  # https://github.com/containers/buildah/pull/5495 is needed to skip nixery.dev registry
  # https://github.com/containers/buildah/pull/6226 is needed for bud & run
  # https://github.com/containers/buildah/pull/6271 - Update "bud with --cpu-shares" test, and rename it
  # https://github.com/containers/buildah/pull/6602 is needed with docker v29
  # https://github.com/containers/buildah/pull/6701 is needed to test on arches other than amd64
  5495:
    merged: "1.36.0"
  6226:
    merged: "1.41.0"
  6271:
    merged: "1.41.0"
  6602:
    min: "1.43.0"
  6701:
    min: "1.43.0"

buildx:
  # https://github.com/docker/buildx/pull/3475/ - test: Handle version not having the initial 'v'
  3475:
    min: "0.29.0"

compose:
  # https://github.com/docker/compose/pull/13214 - test: Set stop_signal to SIGTERM
  # https://github.com/docker/compose/pull/13564 - test: fix pull failure assertion for Docker v29
  13214:
    merged: "2.39.4"
  13564:

conmon:
  # https://github.com/containers/conmon/pull/579 is needed to enable tests
  579:
    merged: "2.2.0"

containerd:

docker-py:
  # https://github.com/docker/docker-py/pull/3261 - Bump default API version to 1.45 (Moby 26.0/26.1)
  # https://github.com/docker/docker-py/pull/3290 - tests/exec: expect 127 exit code for missing executable
  # https://github.com/docker/docker-py/pull/3354 - tests: Fix deprecation warning for utcfromtimestamp()
  # https://github.com/docker/docker-py/pull/3362 - test/integration: don't check for deprecated Networks field
  # https://github.com/docker/docker-py/pull/3366 - test: Skip from_env_unix tests if DOCKER_HOST is network socket
  # https://github.com/docker/docker-py/pull/3367 - tests/integration: Make the tests runnable on SELinux enabled daemon
  # https://github.com/docker/docker-py/pull/3372 - test_connect_with_ipv6_address: enable IPv6
  # https://github.com/docker/docker-py/pull/3373 - test_create_with_ipv6_address: enable IPv6
  # https://github.com/docker/docker-py/pull/3380 - integration: Remove test_build_squash tests
  3261:
  3290:
  3354:
  3362:
  3366:
  3367:
  3372:
  3373:
  3380:

moby:
  # https://github.com/moby/moby/pull/51219 - integration/container: Make tests runnable on SELinux enabled daemon
  # https://github.com/moby/moby/pull/51263 - integration: Skip some tests as rootless
  # https://github.com/moby/moby/pull/51794 - integration: Support iputils ping
  # https://github.com/moby/moby/pull/51970 - Skip some tests as rootless when SELinux is enabled
  # https://github.com/moby/moby/pull/51972 - integration: Support containerd pull error message
  # https://github.com/moby/moby/pull/52116 - integration/container: use page-aligned shm size to fix test on ppc64le
  # https://github.com/moby/moby/pull/52117 - integration/capabilities: Switch to debian:trixie-slim
  # https://github.com/moby/moby/pull/52119 - integration/image: pull ppc64le and s390x in TestSaveAndLoadPlatform
  51219:
    merged: "29.0.0"
  51263:
  51794:
  51970:
    min: "29.2.0"
  51972:
    min: "29.2.0"
  52116:
    min: "29.2.0"
  52117:
    min: "29.2.0"
  52119:
    min: "29.2.0"

netavark:
  # https://github.com/containers/netavark/pull/1191 is needed for 001-basic
  1191:
    merged: "1.15.0"

podman:
  # https://github.com/containers/podman/pull/21875 is needed for 060-mount
  # https://github.com/containers/podman/pull/24068 is needed for 271-tcp-cors-server
  # https://github.com/containers/podman/pull/25858 is needed for 161-volume-quotas
  # https://github.com/containers/podman/pull/25918 is needed for 195-run-namespaces
  # https://github.com/containers/podman/pull/25942 is needed for 252-quadlet
  # https://github.com/containers/podman/pull/26017 is needed for 030-run
  # https://github.com/containers/podman/pull/26798 is needed for pasta
  # https://github.com/containers/podman/pull/26920 is needed to drop ncat
  # https://github.com/containers/podman/pull/26921 is needed to drop socat
  # https://github.com/containers/podman/pull/26934 - test/e2e: fix 'block all syscalls' seccomp for runc
  # https://github.com/containers/podman/pull/27230 is needed for 130-kill
  # https://github.com/containers/podman/pull/27233 is needed for 130-kill
  # https://github.com/containers/podman/pull/27463 - test/system: Update test to handle new error message from runc 1.3.3
  # https://github.com/containers/podman/pull/27760 - test/system: remove apk from build
  # https://github.com/containers/podman/pull/28133 - test: Use yq for yaml2json instead of PyYAML
  # https://github.com/containers/podman/pull/28151 - test/system: fix pod inspect ordering test leak
  21875:
    merged: "5.0.0"
  24068:
    merged: "5.3.0"
  25858:
    merged: "5.5.0"
    min: "5.0.0"
  25918:
    merged: "5.5.0"
    min: "5.0.0"
  25942:
    merged: "5.6.0"
  26017:
    merged: "5.6.0"
    min: "5.0.0"
  # XXX: Not merged
  26798:
    merged: "5.7.0"
    min: "5.0.0"
  26920:
    merged: "5.7.0"
  26921:
    merged: "5.7.0"
  26934:
    merged: "5.7.0"
  27230:
    merged: "5.7.0"
  27233:
    merged: "5.7.0"
  27463:
    merged: "5.7.0"
  27760:
    merged: "5.7.0"
  28133:
    min: "5.8.0"
  28151:
    min: "5.8.0"

podman-py:
  # https://github.com/containers/podman-py/pull/623 - Fix pytest flag for rootful test
  623:

runc:
  # https://github.com/opencontainers/runc/pull/5079 - integration: Skip test for new privileges if NoNewPrivs is set
  # https://github.com/opencontainers/runc/pull/5124 - tests/int: Disable coredumps for SCMP_ACT_KILL tests
  5079:
  5124:

skopeo:

umoci:
