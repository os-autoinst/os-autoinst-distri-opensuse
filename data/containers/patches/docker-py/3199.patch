From 2a5f354b502fe0624239f8b2607cc624857027cb Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Pawe=C5=82=20Gronowski?= <pawel.gronowski@docker.com>
Date: Fri, 15 Dec 2023 10:40:27 +0100
Subject: [PATCH] Bump default API version to 1.43 (Moby 24.0)
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Pawe≈Ç Gronowski <pawel.gronowski@docker.com>
---
 Makefile                  | 4 ++--
 docker/constants.py       | 2 +-
 tests/Dockerfile-ssh-dind | 4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

diff --git a/Makefile b/Makefile
index 79486e3ec2..00ebca05ce 100644
--- a/Makefile
+++ b/Makefile
@@ -1,5 +1,5 @@
-TEST_API_VERSION ?= 1.41
-TEST_ENGINE_VERSION ?= 20.10
+TEST_API_VERSION ?= 1.43
+TEST_ENGINE_VERSION ?= 24.0
 
 ifeq ($(OS),Windows_NT)
     PLATFORM := Windows
diff --git a/docker/constants.py b/docker/constants.py
index ed341a9020..71e543e530 100644
--- a/docker/constants.py
+++ b/docker/constants.py
@@ -1,7 +1,7 @@
 import sys
 from .version import __version__
 
-DEFAULT_DOCKER_API_VERSION = '1.41'
+DEFAULT_DOCKER_API_VERSION = '1.43'
 MINIMUM_DOCKER_API_VERSION = '1.21'
 DEFAULT_TIMEOUT_SECONDS = 60
 STREAM_HEADER_SIZE_BYTES = 8
diff --git a/tests/Dockerfile-ssh-dind b/tests/Dockerfile-ssh-dind
index 0da15aa40f..2b7332b8b6 100644
--- a/tests/Dockerfile-ssh-dind
+++ b/tests/Dockerfile-ssh-dind
@@ -1,7 +1,7 @@
 # syntax=docker/dockerfile:1
 
-ARG API_VERSION=1.41
-ARG ENGINE_VERSION=20.10
+ARG API_VERSION=1.43
+ARG ENGINE_VERSION=24.0
 
 FROM docker:${ENGINE_VERSION}-dind
 
