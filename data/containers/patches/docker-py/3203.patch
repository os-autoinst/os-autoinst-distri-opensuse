From 0fad869cc62829b6e51898dc8e2ca0832aec6d43 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Pawe=C5=82=20Gronowski?= <pawel.gronowski@docker.com>
Date: Tue, 19 Dec 2023 10:25:34 +0100
Subject: [PATCH] integration/commit: Don't check for deprecated fields
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Container related Image fields (`Container` and `ContainerConfig`) will
be deprecated in API v1.44 and will be removed in v1.45.

Signed-off-by: Pawe≈Ç Gronowski <pawel.gronowski@docker.com>
---
 tests/integration/api_image_test.py | 9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

diff --git a/tests/integration/api_image_test.py b/tests/integration/api_image_test.py
index 7081b53b8f..5c37219581 100644
--- a/tests/integration/api_image_test.py
+++ b/tests/integration/api_image_test.py
@@ -85,13 +85,8 @@ def test_commit(self):
         img_id = res['Id']
         self.tmp_imgs.append(img_id)
         img = self.client.inspect_image(img_id)
-        assert 'Container' in img
-        assert img['Container'].startswith(id)
-        assert 'ContainerConfig' in img
-        assert 'Image' in img['ContainerConfig']
-        assert TEST_IMG == img['ContainerConfig']['Image']
-        busybox_id = self.client.inspect_image(TEST_IMG)['Id']
         assert 'Parent' in img
+        busybox_id = self.client.inspect_image(TEST_IMG)['Id']
         assert img['Parent'] == busybox_id
 
     def test_commit_with_changes(self):
@@ -103,8 +98,6 @@ def test_commit_with_changes(self):
         )
         self.tmp_imgs.append(img_id)
         img = self.client.inspect_image(img_id)
-        assert 'Container' in img
-        assert img['Container'].startswith(cid['Id'])
         assert '8000/tcp' in img['Config']['ExposedPorts']
         assert img['Config']['Cmd'] == ['bash']
 
