events {
	multi_accept on;
	worker_connections 1024;
}

http {
	include mime.types;
	default_type application/octet-stream;

	http2 on;
	sendfile on;
	keepalive_timeout 70;
	include conf.d/*.conf;
	server {
		listen 80;
		server_name localhost;
		location / {
			root /srv/www/htdocs;
			index index.php index.html index.htm;
		}

		# pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
		#
		location ~ \.php$ {
			root /srv/www/htdocs;
			# fastcgi_pass unix:/run/php-fpm/php-fpm.sock;
			fastcgi_pass 127.0.0.1:9000;
			fastcgi_index index.php;
                        # change path for fastcgi_param correctly here!
			fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
			include fastcgi_params;
		}

		# deny access to hidden files
		#
		location ^~ /. {
			deny all;
		}
	}
	include vhosts.d/*.conf;
}
